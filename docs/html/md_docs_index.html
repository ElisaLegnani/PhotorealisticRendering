<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Photorealistic Rendering: index</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Photorealistic Rendering
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">index </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >[brief description]</p>
<p >It is developed for the course <a href="https://www.unimi.it/en/education/degree-programme-courses/2021/numerical-tecniques-photorealistic-image-generation"><em>Numerical techniques for photorealistic image generation</em></a> held by professor <a href="https://github.com/ziotom78">Maurizio Tomasi</a> (University of Milan, AY2020-2021).</p>
<p >The main contributors to this repository are <a href="https://github.com/ElisaLegnani">Elisa Legnani</a> and <a href="https://github.com/adelezaini">Adele Zaini</a>.</p>
<p >Here you can find a detailed explanation of the program usage for better understanding how to generate photorealistic images and to convert images from HDR to LDR format, and the parameters you can set. Have fun!</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Table of Contents</h1>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#create-your-own-photorealistic-image">Create your own photorealistic image</a></li>
<li><a href="#convert-hdr-image-into-ldr">Convert HDR image into LDR</a></li>
</ul>
</li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#expectations-and-examples">Expectations and examples</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md15"></a>
Installation</h1>
<p >üîó Information on how to install and compile the code are on our <a href="https://github.com/ElisaLegnani/PhotorealisticRendering">GitHub repository</a>.</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Usage</h1>
<p >You can run the program through the script <code>raytracer</code>, located in the <code>build</code> directory.</p>
<p >The code implements two features, that you can call with commands:</p><ul>
<li><code>render</code>: creates a photorealistic image;</li>
<li><code>hdr2ldr</code>: converts HDR image to LDR.</li>
</ul>
<p >The basic usage is the following:</p>
<div class="fragment"><div class="line">./raytracer [COMMAND] [INPUT_FILENAME] {OPTIONS}</div>
</div><!-- fragment --><p> The <code>[INPUT_FILENAME]</code> represents the input filename with the path where to find it, it is a required argument to pass. There are some examples in the <code>examples</code> directory if you want to give it a try or play with the code!</p>
<p >To have more information about available <code>{OPTIONS}</code>, a commmand-line help shows more details about program features and parameters:</p>
<div class="fragment"><div class="line">./raytracer --help</div>
</div><!-- fragment --><p >The command line interface is built using the argument parsing library <a href="https://github.com/Taywee/args">Taywee/args</a>.</p>
<p >For further details, see below.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Create your own photorealistic image</h2>
<p >In order to create your photorealistic images, you need to give instructions to the code on the scene you want to render. You can write them in a TXT file and run in the <code>build</code> directory:</p>
<div class="fragment"><div class="line">./raytracer render [SCENE_FILENAME] {OPTIONS}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md18"></a>
Scene file</h3>
<p >First argument to pass is:</p>
<ul>
<li><code>[SCENE_FILENAME]</code>: input scene filename with path to the directory (REQUIRED);</li>
</ul>
<p >At the moment *(any contribution is welcome!!)*, the implemented elements you can add at the scene are:</p><ul>
<li>üîÆ Spheres</li>
<li>üüß Planes</li>
<li>üì¶ Boxes</li>
<li>‚òÄÔ∏è <a class="el" href="structPointLight.html">PointLight</a> sources</li>
</ul>
<p >whose you can set material and geometric properties.</p>
<p >üîó You can find detailed instructions on how to write the scene file at the page <a href="https://elisalegnani.github.io/PhotorealisticRendering/scene">Scene description</a>.</p>
<p >In the <code>examples/render</code> directory, some scene file examples are provided to start playing with the code. Expecially, look at <code>demo.txt</code> to explore all the potentialities of the code! Our suggestion is to try passing the same scene file with different rendering algorithms while changing the parameters setting, this will surely tickle your creativity! ‚ú®</p>
<h3><a class="anchor" id="autotoc_md19"></a>
Parameters</h3>
<p >Some parameters are available for users to set properties of the rendered image. You can set them directly in the command line, as explained in <code>{OPTIONS}</code> of the help interface (running <code>./raytracer render</code>).</p>
<ul>
<li><code>-w|--width</code>: width of the rendered image (default value: <code>640</code>);</li>
<li><code>-h|--height</code>: height of the rendered image (default value: <code>480</code>);</li>
<li><code>-r|--renderer|--algorithm</code>: renderer algorithm: <code>onoff</code>/<code>flat</code>/<code>pathtracer</code>/ üí° <code>pointlight</code> (default: <code>pathtracer</code>);</li>
<li><code>--output|--output_file</code>: PFM/PNG/JPG file with path to the directory (default: <code>image_date_time.png</code> in the directory where the scene file is located);</li>
<li><code>-n|--rays|--n_rays</code>: number of rays (default value: <code>10</code>);</li>
<li><code>-d|--depth|--max_depth</code>: maximum depth (default value: <code>2</code>);</li>
<li><code>--sample|--samples_per_pixel</code>: number of extracted samples per pixel for antialiasing (default value: <code>0</code>, no antialiasing);</li>
<li><code>-s|--state</code>: initial seed for the <a class="el" href="classPCG.html">PCG</a> random number generator (default value: <code>42</code>);</li>
<li><code>-i|--seq_id|--seq</code>: identifier of the sequence produced by the <a class="el" href="classPCG.html">PCG</a> random number generator (default value: <code>54</code>);</li>
<li><code>--a_r</code>: luminosity normalization factor (0&lt;a&lt;1, default value: <code>1.0</code>);</li>
<li><code>--g_r|--gamma_r</code>: monitor calibration factor (default value: <code>1.0</code>);</li>
<li><code>-v|--declare_var [...]</code>: additional float parameters associated to variable identifiers in the scene file, e.g angle of view, camera distance ... (ex: <code>--declare_var ang=10</code>).</li>
</ul>
<p >üîó For further explanation on the fuctionality of each parameter, see the documentation[link].</p>
<p >Here is an example of usage:</p>
<div class="fragment"><div class="line">./raytracer render ../examples/render/demo.txt -w 640 -h 480 -r pathtracer --output ../my_first_image.png -v angle=30</div>
</div><!-- fragment --><p ><b>üí° Warning on pointlight tracer</b>: the pointlight tracer is not able to render reflective surfaces.</p>
<p ><b>‚è≥ Note</b>: the more parameters values increase, the more the rendering process takes a long time to produce an image.</p>
<h3><a class="anchor" id="autotoc_md20"></a>
Demo image</h3>
<p >You may easily try the code running in the <code>examples/render</code> directory:</p>
<div class="fragment"><div class="line">./generate-image.sh ANGLE</div>
</div><!-- fragment --><p >which automatically runs the following code:</p>
<div class="fragment"><div class="line">../../build/./raytracer render demo_img.txt --declare_var ang=ANGLE --output img/imageANGLE.png</div>
</div><!-- fragment --><p >You just need to set the <code>ANGLE</code> (deg) from which you look at the scene.</p>
<p ><img src="https://user-images.githubusercontent.com/62106779/123851051-0ec3f600-d91b-11eb-9b2d-b5944efe7df6.png" alt="render" class="inline"/></p>
<p >If you want to use this script to generate a different image, just change the scene description of the <code>demo_image.txt</code> file.</p>
<h3><a class="anchor" id="autotoc_md21"></a>
Demo animation</h3>
<p >In the <code>examples/render</code> directory, you may generate an animation of the demo scene, rotating 360¬∞ around the objects.</p>
<p >In order to run the code, you need to:</p><ul>
<li>install <a href="http://ffmpeg.org/">ffmpeg</a> : <code>sudo apt install ffmpeg</code> (or <code>brew install ffmpeg</code> if you use Homebrew);</li>
<li>install <a href="https://www.gnu.org/software/parallel/">GNU Parallel</a> : <code>sudo apt install parallel</code> (or <code>brew install parallel</code>);</li>
<li>find out the number of cores of your machine: <code>nproc --all</code>for Linux or <code>sysctl -n hw.ncpu</code> for MacOS, to pass as <code>NUM_OF_CORES</code> in the command line;</li>
</ul>
<p >This is needed to run in parallel the code and speed up the execution, otherwise it would take a very long time.</p>
<div class="fragment"><div class="line">./generate-animation.sh NUM_OF_CORES</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
Convert HDR image into LDR</h2>
<p >In the <code>build</code> directory run:</p>
<div class="fragment"><div class="line">./raytracer hdr2ldr [HDR_IMAGE] {OPTIONS}</div>
</div><!-- fragment --><p >The HDR image format supported is PFM, while LDR ones are PNG and JPG.</p>
<p >You can also set some parameters according to your preferences in the output image visualisation. You can set them directly in the command line, as explained in <code>{OPTIONS}</code> of the help interface (running <code>./raytracer hdr2ldr</code>).</p>
<ul>
<li><code>[HDR_IMAGE]</code>: input PFM image with path to the directory (REQUIRED);</li>
<li><code>--out|--out_file</code>: PNG/JPG file with path to the directory (default: <code>input-filename_a_gamma.png</code> in the directory where the HDR image is located);</li>
<li><code>-a</code>: luminosity normalization factor (0&lt;a&lt;1, default value: <code>0.3</code>);</li>
<li><code>-g|--gamma</code>: monitor calibration factor (default value: <code>1.0</code>).</li>
</ul>
<div class="fragment"><div class="line">./raytracer hdr2ldr [HDR_IMAGE] -a 0.3 -g 1.0 --out &lt;output_file.jpg&gt;</div>
</div><!-- fragment --><p >üîó For further explanation on the specific meaning of the two parameters, see the documentation[link].</p>
<h3><a class="anchor" id="autotoc_md23"></a>
Example</h3>
<p >In the <code>examples/hdr2ldr</code> directory, there is a PFM input file called <code>memorial.pfm</code>. You can play with the code and parameters simply running (in the <code>build</code> directory):</p>
<div class="fragment"><div class="line">./raytracer hdr2ldr ../examples/hdr2ldr/memorial.pfm -a 0.3 -g 1.0 </div>
</div><!-- fragment --><p ><img src="https://user-images.githubusercontent.com/59051647/123945827-d665fb80-d99e-11eb-9bb2-f5957ce53e94.png" alt="PFM" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md24"></a>
Documentation</h1>
<p >A link to the complete documentation of the code will be available soon!</p>
<h1><a class="anchor" id="autotoc_md25"></a>
Expectations and examples</h1>
<p >More infos coming soon! Stay tuned!</p>
<h1><a class="anchor" id="autotoc_md26"></a>
Contributing</h1>
<p >üöß Please open <a href="https://github.com/ElisaLegnani/PhotorealisticRendering/pulls">pull requests</a> or use the <a href="https://github.com/ElisaLegnani/PhotorealisticRendering/issues">issue tracker</a> to suggest any code implementations or report bugs. Any contributions are welcome!</p>
<h1><a class="anchor" id="autotoc_md27"></a>
License</h1>
<p >The code is released under the terms of the <a href="https://www.gnu.org/licenses/gpl-3.0.html">GNU General Public License v3.0</a>. See the file <a href="https://github.com/ElisaLegnani/PhotorealisticRendering/blob/master/LICENSE.md">LICENSE.md</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
